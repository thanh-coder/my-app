<div style="margin-left: 200px;margin-top: 39px;margin-bottom: 39px;font-size: 25px;">
 <button type="button" class="btn btn-success"   (click)="gohome()">
  <span *ngIf="artcleService?.home_profile" >  go back profile</span>
  <span *ngIf="!artcleService?.home_profile"> go back home</span>
 </button>
</div>
<div class="wrap" style="height: 1000vh">
  <div class="header" style="width: 100%;padding-left: 401px;display: flex;flex-direction: column;justify-content: center;height: auto; border-top: 2px solid #ddd;">
    <div class="header-first" style="display: flex; width: 65%;align-items: center;;text-align: center">
      <span style="width:40px;font-size:44px;color: #423f3f;"><i class="fas fa-smile-wink"></i></span>
      <div style="margin-right: 30px; margin-left: 15px;margin-top: 16px;text-align: center">
        <a [routerLink]="['/detail-article']" style="margin-bottom: 0px;text-decoration: none;color: green;">{{users.username}}</a>
        <p style="color:#9bcece">October 25,2018</p>
      </div>

      <div *ngIf="users?.username">
        <button *ngIf="users?.username != article?.author?.username" type="button"  [ngClass]="{'btn btn-success': hiddenFollow, 'btn btn-secondary': !hiddenFollow}"  style="margin-right: 20px;font-size: 14px; box-sizing: border-box;padding: 3px 4px;" (click)="followUser(article.author.username)">
         <span *ngIf="hiddenFollow" ><i class="fas fa-plus"  ></i> follow({{article?.author?.username}})</span>
         <span *ngIf="!hiddenFollow"><i class="fas fa-minus" ></i> unfollow({{article?.author?.username}})</span>
        </button>
        <button type="button" [ngClass]="{'btn btn-success': hiddenFavorite,'btn btn-secondary': !hiddenFavorite}" style="margin-right: 20px;font-size: 14px; box-sizing: border-box;padding: 3px 4px;" (click)="favoriteArticle(article.slug,article.author.username)">
          <span *ngIf="hiddenFavorite" ><i class="fas fa-heart"  ></i> favorite({{article?.author?.username}})</span>
          <span *ngIf="!hiddenFavorite"><i class="fas fa-heart-broken" ></i> unfavorite({{article?.author?.username}})</span>
         </button>
      </div>
      <!-- <button type="button" class="btn btn-outline-secondary" [disabled]="hiddenunFollow ? true :false" style="margin-right: 20px;font-size: 14px; box-sizing: border-box; padding: 3px 4px;" (click)="unfollowUser(article.author.username)"><i class="fas fa-minus"></i> Unfollow {{article?.author?.username}}</button> -->
      <!-- <button type="button" style="font-size: 14px; box-sizing: border-box;padding: 3px 4px;margin-right: 17px;" class="btn btn-outline-success" [disabled]="hiddenFavorite? true :false" (click)="favoriteArticle(article.slug,article.author.username)"><i class="fas fa-heart"></i> Favorite Article</button>
      <button type="button" style="font-size: 14px; box-sizing: border-box; padding: 3px 4px;" class="btn btn-outline-success" [disabled]="hiddenunFavorite? true :false" (click)="unFavoriteArticle(article.slug,article.author.username)"><i class="fas fa-heart-broken"></i> unFavorite Article</button> -->
    </div>
  </div>
  <ng-container *ngIf="accessToken?.token == null;else elseBlock">
    <div style="display:flex;margin-left: 500px;margin-top: 30px;font-size: 20px">
      <a [routerLink]="['/login']">sign in</a> &nbsp; or &nbsp; <a [routerLink]="['/signup']">sign up</a> &nbsp; to ad comment in this article
    </div>
    <table *ngIf="article" class="table table-bordered" style="width:50%;margin-top: 82px;margin-left: 380px;">
       <tbody>
        <tr style="height:auto">
          <th scope="row">
            <div class="header-first" style="display: flex;width: 56%;align-items: center;">
              <span style="width:40px;font-size:44px;color: #423f3f;"><i class="fas fa-smile-wink"></i></span>
              <div style="margin-right: 30px; margin-left: 15px;margin-top: 16px;display: flex">
                <p style="margin-bottom: 0px;margin: 0 9px 0 0;color:green">{{article?.author?.username}}</p>
                <p style="color:#ddd">{{article?.createdAt|date :'dd/MM/y hh:mm:ss:a'}}</p>
              </div>
            </div>
          </th>

        </tr>
        <tr style="height:auto">
          <th scope="row">
            <h3 style="font-weight: bold">{{article.title}}</h3>
            <p style="color:#ddd">{{article?.createdAt|date :'dd/MM/y hh:mm:ss:a'}}</p>
            <h5 style="font-weight: bold">{{article?.description}}</h5>
            <p style="font-size: 12px">lĩnh vực sự kiện <a href="" style="color:green">{{article.tagList[0]}}</a>

            <br>
            <br>
            </p>
            <p style="text-indent: 15px;font-family: serif;
             font-size: 14px;">{{article?.body}}</p>
          </th>

        </tr>

      </tbody>
    </table>
  </ng-container>

  <ng-template #elseBlock>
    <!-- <div class="post-wrap" style="text-align: center;display: flex;flex-direction: column;justify-content: center;align-items: center;">
      <textarea name="" id="comment" cols="30" rows="6" style="width: 50%;" name="comment" [(ngModel)]="comment1"
        #comment placeholder="write a comment"></textarea>
      <div style="width: 50%;background-color: #ddd; height: 70px; position: relative;">
        <button style="position: absolute;top: 23%;right: 2%;" type="button" class="btn  btn-success"
          (click)="addComment(comment.value)">post comment</button>
      </div> -->
      <!-- <div *ngIf="users?.username === article?.author?.username">
        <button style="position: absolute;top: 90%;left: 25%;" type="button" class="btn  btn-success" (click)="onEdit(article)">Edit Article</button>
        <button style="position: absolute;top: 90%;left: 32%;" type="button" class="btn  btn-danger"
          (click)="onDeleteArticle(article)">Delete Article</button>
      </div> -->
      <table *ngIf="article" class="table table-bordered" style="width:50%;margin-top: 82px;margin-left: 380px;">
        <thead>
          <tr style="display: flex;align-content: space-around">
            <th scope="col" style="width: 100%;display: flex;align-items: center;justify-content: space-around;text-align: center; box-sizing: border-box;">
                <div *ngIf="users?.username === article?.author?.username">
                    <button  type="button" class="btn  btn-success" (click)="onEdit(article)">Edit Article</button>
                    <button  type="button" class="btn  btn-danger"
                      (click)="onDeleteArticle(article)">Delete Article</button>
                  </div>              
              <div>
                  <!-- <button type="button" class="btn btn-outline-secondary" style="margin-right: 0px;font-size: 14px;"><i class="fas fa-plus"></i> follow({{follows?.count||0}}) </button> -->
                  <button type="button" style="font-size: 14px;" class="btn btn-outline-success"><i class="fas fa-heart"></i>Favorite Article({{accessToken?.favoriteArticle||0}})</button>
            </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr style="height:auto">
            <th scope="row">
              <div class="header-first" style="display: flex; width: 56%;align-items: center;">
                <span style="width:40px;font-size:44px;color: #423f3f;"><i class="fas fa-smile-wink"></i></span>
                <div style=" margin-right: 30px;margin-left: 15px;margin-top: 16px;display: flex">
                  <p style="margin-bottom: 0px;margin: 0 9px 0 0;color:green">{{article?.author?.username}}</p>
                  <p style="color:#ddd">{{article?.createdAt|date :'dd/MM/y hh:mm:ss:a'}}</p>
                </div>
              </div>
            </th>

          </tr>
          <tr style="height:auto">
            <th scope="row">
              <h3 style="font-weight: bold">{{article.title}}</h3>
              <p style="color:#ddd">{{article?.createdAt|date :'dd/MM/y hh:mm:ss:a'}}</p>
              <h5 style="font-weight: bold">{{article?.description}}</h5>
              <p style="font-size: 12px">lĩnh vực sự kiện <a href="" style="color:green">{{article.tagList[0]}}</a>
              <br>
              <br>
              </p>
              <p style="text-indent: 15px;font-family: serif;
               font-size: 14px;">{{article?.body}}</p>
            </th>
         </tr>
        </tbody>
      </table>
      <div class="post-wrap" style="text-align: center;display: flex;flex-direction: column;justify-content: center;align-items: center;">
          <textarea name="" id="comment" cols="30" rows="6" style="width: 50%;" name="comment" [(ngModel)]="comment1"
            #comment placeholder="write a comment"></textarea>
          <div style="width: 50%;background-color: #ddd; height: 70px; position: relative;">
            <button style="position: absolute;top: 23%;right: 2%;" type="button" class="btn  btn-success"
              (click)="addComment(comment.value)">post comment</button>
          </div>
      <div>
        <h2 style="margin-left: -586px;">Comment({{comments?.length||0}})</h2>
        <div *ngFor="let item of comments; let i = index; trackBy: trackByFn" style="border-bottom:1px solid #ddd;margin-top: 20px;width: 766px;padding-left: 148px;">
          <div style="margin-left: -143px; display: flex;">

            <span style="width: 40px;font-size: 44px;color: #3a3232; margin-right: 17px;"><i class="fas fa-smile-wink"></i></span>
            <div style="display: flex;flex-direction: column;justify-content: center;">
              <div style="display: flex; margin-top: 11px;">
                <span style="color: black;font-weight: bold;">{{item.author.username}} </span>
                <span style="margin-left: 10px;">{{item.createdAt}}</span>
              </div>
              <span style="overflow: hidden;;word-break: break-all;text-align: left;">{{item.body}}</span>
              <div style="margin-left: 4px;display: flex;align-items: center; margin-top: 11px;">
                <span style="margin-right: 23px;"><i class="far fa-thumbs-up"></i></span>
                <span style="margin-right: 22px;"><i class="far fa-thumbs-down"></i></span>
                <span>trả lời</span>
              </div>
            </div>
            <span style="color: #907878;font-size: 22px; text-align: center; position: absolute;left: 74%;"class="show-setting" (click)="onHover(item.id)"><i class="fas fa-ellipsis-h"></i></span>
            <div [style.display]="display === true && pos === i  ? 'block' : 'none'" style="border: 1px solid #ddd;padding: 2px 19px;    height: 51px;position: absolute;left: 75.6%;margin-top: 11px;"class="setting">
              <p style="margin-top: 0; margin-bottom: 0px;cursor: pointer;" (click)="onDelete(item.id)"> delete</p>
              <p style="margin-top: 0; margin-bottom: 0px;cursor: pointer;">edit</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>